[
["index.html", "A Game Theoretic Approach to Pokémon Battling Introduction", " A Game Theoretic Approach to Pokémon Battling Samuel D. Olson May 2017 Introduction Welcome to the R Markdown thesis template. This template is based on (and in many places copied directly from) the Reed College LaTeX template, but hopefully it will provide a nicer interface for those that have never used TeX or LaTeX before. Using R Markdown will also allow you to easily keep track of your analyses in R chunks of code, with the resulting plots and output included as well. The hope is this R Markdown template gets you in the habit of doing reproducible research, which benefits you long-term as a researcher, but also will greatly help anyone that is trying to reproduce or build onto your results down the road. Hopefully, you won’t have much of a learning period to go through and you will reap the benefits of a nicely formatted thesis. The use of LaTeX in combination with Markdown is more consistent than the output of a word processor, much less prone to corruption or crashing, and the resulting file is smaller than a Word file. While you may have never had problems using Word in the past, your thesis is likely going to be about twice as large and complex as anything you’ve written before, taxing Word’s capabilities. After working with Markdown and R together for a few weeks, we are confident this will be your reporting style of choice going forward. or email us at . --> Why use it? R Markdown creates a simple and straightforward way to interface with the beauty of LaTeX. Packages have been written in R to work directly with LaTeX to produce nicely formatting tables and paragraphs. In addition to creating a user friendly interface to LaTeX, R Markdown also allows you to read in your data, to analyze it and to visualize it using R functions, and also to provide the documentation and commentary on the results of your project. Further, it allows for R results to be passed inline to the commentary of your results. You’ll see more on this later. Who should use it? Anyone who needs to use data analysis, math, tables, a lot of figures, complex cross-references, or who just cares about the final appearance of their document should use R Markdown. Of particular use should be anyone in the sciences, but the user-friendly nature of Markdown and its ability to keep track of and easily include figures, automatically generate a table of contents, index, references, table of figures, etc. should make it of great benefit to nearly anyone writing a thesis project. "],
["1-introduction-1.html", "Chapter 1 Introduction 1.1 Literature Review 1.2 References 1.3 Methodology 1.4 End thesis Chapter 1", " Chapter 1 Introduction The world of Pokémon began in 1995 with the pair of games Pokémon Red and Green. For Westerners, the latter would become known as Pokémon Blue. These two games introduced the turn-based battling system that became the foundation of the Pokémon games. Numerous other games have attempted to copy the Pokémon battling format, but none have been able to equal its widespread appeal and dedicated player base. With each successive iteration, new items, types, and of course Pokémon are added to the Pokémon lexicon. The world of Pokémon has continued to grow and evolve into one of the largest video games franchises to date. The most recent iterations of Pokémon games, Pokémon Sun and Moon, have continued the tradition of adding layers onto an already complex system of battling. Since 2011 the program Pokémon Showdown has offered a ‘stripped’ version of Pokémon games. This ‘stripped’ version allows players to exclusively battle one another, replicating the most recent iteration of the Pokémon games in the process. This has allowed players to hone and test their Pokémon battling skills through the years. With well-over 20,000 daily registered users and counting, this program has become the go-to program to test and practice Pokémon battling strategies in the ultimate pursuit of becoming the very best that no one ever was. To begin formal analysis of Pokémon battling however, the battling system must be rigorously detailed for laymen and game theorists alike. 1.0.1 A Brief Overview First, there needs to be a formal model. At its core, Pokémon battling takes place exclusively between two players. Each of the two players has a team composed of six different Pokémon. Depending on the battle format, the team of six Pokémon is either dictated by the player or randomly assigned. Regardless of format, each turn each player simultaneously makes a decision. The decisions are then executed, with priority given first to priority moves and then, if neither player decided on a priority move, by a comparative assessment of each Pokémon’s speed. Once a player’s Pokémon loses all of its health, an event referred to as fainting, the player must switch into another Pokémon. If a player has no other Pokémon to switch into, the battle ends. As would be expected, the player whose Pokémon have all fainted loses the battle, and the other player wins. There are a number of parameters and variables to consider beyond those already detailed. To begin with, each Pokémon has at most four moves to choose from for any turn of a battle. Additionally, whenever a player has at least two Pokémon that have not fainted, they have the choice to switch into another Pokémon. Doing so counts as the player’s action for the turn. Thus, players almost always have five different choices to make each turn. However, if switches are considered distinct choices, the number of potential decisions is at most nine for a given turn. Hence, for the purposes of analysis, the supremum of decisions for any given turn is nine. There are a number of other parameters to consider, though these parameters are case-specific, i.e. dependent upon Pokémon, held item, Pokémon ability, etc. Such parameters will be further detailed in the methodology section, along with further specifications on specific moves and Pokémon types. That being said, Pokémon must be formally denoted as a specific type of game in game theoretic terms. With this in mind, it bears noting that there are only two outcomes to any battle: One player wins and the other loses. Because of this, Pokémon is by definition a zero-sum game. However, it is important to note that there are distinct ways that a player may win or lose a game. Notably, the same set of decisions made by one player over multiple battles may not lead to the same outcome in each battle. That is to say, uniqueness of strategies is derived from the decisions of both players for any given battle. A point glossed over previously is the existence of different end games. Though the game ends when all of the Pokémon on one team have fainted, any player has the choice to forfeit the game any time before this occurs. Thus, the two ways to win or lose a battle are either by forfeiture or by having all of their Pokémon faint; the latter outcome is referred to as a “normal” game. Additionally, there is the potential for a game to result in a draw. However, draws result in a neutral payoff as neither player raises or lowers their ranking after a draw. Within the scope of game theoretic terms, it is vital to note that each player is able to see all past decisions made over the course of a battle, and that battles span over multiple turns. Speaking to the former point, players are able to recall not only their past decisions but also those of their opponent, including how much damage was done by a specific move during a previous turn. As this information is available at any time during the battle, Pokémon battling is a perfect recall game. Furthermore as each game is composed of a sequence of turns, Pokémon battling is also a sequential game. The points noted on information allude to a unique trait of Pokémon battling that further details the type of game Pokémon battling is: An incomplete information game. Though the extent of incompleteness is format specific, each player is given limited information about the opposing players team at the beginning of the battle. After each turn, players are able learn not only the different moves each opposing Pokémon has, but also their abilities, held items, and sometimes what other Pokémon compose the opposing team. Generally speaking, there is almost always new information revealed each turn. The extent to which player strategies are revealed from information is an ongoing topic of discussion, both here and in current game theory literature. Naturally, the analysis of such a topic relies upon at least one apriori assumption, namely that player strategies are revealed by their past decisions. However, whether player strategies are rational and consistent is another matter entirely; nonetheless, at the very least it is important to note that incorporating such information into players own decision-making complicates analysis and is a central topic in analyzing Pokémon battling. Taken together, Pokémon battling is a special case of a sequential, zero-sum two-player game with incomplete information and perfect recall. As Pokémon battling lends itself to a discussion of imperfect information, it is all the more vital to consider the role of decision making in sequential games. A great portion of game theory literature has explored such topics, including the revolutionary work of John Forbes Nash Jr. Theoretics aside, there are also notes on the computation side of analyzing Pokémon. In this regard, my initial computations and analysis focus on the distributions of turn length based on win type, i.e. the length of games played when one player forfeited or had all of their Pokémon faint. After distributional computations I categorize moves by their type, specifically whether a specific move is damaging, non-damaging, or a mix. After categorizing each move individually, I then categorize sets of four moves, again using categorizations of damaging, non-damaging, or a mix. Using this categorization I gauge the effectiveness of specific move sets based on their ability to faint Pokémon and by their likelihood to increase a players probability of winning. Overall I hope explore how information gathered turn-by-turn feeds into the decision-making process of Pokémon battling. By incorporating tenants of behavioral economics and game theory, I hope to rigorously analyze and detail phenomena that occur in Pokémon battling. However, even more specifically I want to verify the theoretical findings of Pokémon battling in a game theoretic framework, specifically the existence of one or more mixed Nash equilibrium. 1.1 Literature Review A few points on Pokémon battling are worth noting as they relate Nash’s literature on game theory mentioned previously. First, each Pokémon battle lasts a finite number of turns. Furthermore, each player has finitely many choices to make at any given turn. Thus there exists finitely many pure strategies for players to choose from each game. Thus via application of Nash’s Existence Theorem, Pokémon battling has at least one Nash equilibrium (Nash 1950). The question then is to determine what the Nash equilibrium, possibly equilibria, is in Pokémon battling. To address this question, it will be necessary to consider other theorems and propositions of Nash that relate to non-cooperative games. Namely, the goal of analyzing Pokémon battling is to determine solutions, strong solutions, and sub-solutions; however, it is possible that solutions as defined by Nash do not exist. This follows from Nash’s note that non-cooperative games do not always have a solution; however there do exist sub-solutions (Nash 1951). Thus, a central question will be in determining whether Pokémon battling has a solution, and if so, if it is unique. Furthermore, it will be important to determine what sub-solutions exist, along with how parameterization potentially influences such solutions and sub-solutions. That being said, scant rigorous or academic research has actually been conducted within the scope of Pokémon-related topics. The most frequent publications focus either on Pokémon as a cultural phenomena or on strategy guides for Pokémon games. Importantly, these strategy guides have not specifically Pokémon battling strategies, though some have some focus on gameplay. However, no Pokémon strategy guides have analyzed Pokémon battling by using game theoretic terminology; though that isn’t to say that there aren’t academic publications focusing on Pokémon battling. Typically academic papers focusing on Pokémon battling have focused on the use of algorithms to simulate battling strategies and play against human players in Pokémon Showdown. One paper gives a rudimentary background on Pokémon battling and focuses explicitly on 1v1 battles (Gildardo 2013). Since this publication there has been more literature however. This literature includes greater nuance, notably by expanding the focus of its analysis to teams of six (Ho et al. 2016). Though the paper focused on what is currently a previous iteration of Pokémon Showdown, the iteration of Pokémon Showdown is fundamentally the same as that of the data used here. Furthermore, relevant documentation of this past iteration of Pokémon Showdown is available at its website http://pokemonshowdown.com/. Notably, the website for Pokémon Showdown provides a hub for information on Pokémon battling basics and specific battle format descriptions. Replays and ladder ranking are available publically, along with links to usage statistics and a damage calculator. As noted previously, game theory vernacular has not entered into discussions on Pokémon battling strategies, at least in any formal setting. Applying such concepts to the context of Pokémon battling offers a formal foundation to discuss strategies and test hypotheses. In this regard, there are three main areas of game theory that intersect in the analysis of Pokémon battling. These three areas of interest include the interpretation of Pokémon battling as a zero sum game, the role of incomplete information, and the implications of Pokémon battling as a non-cooperative game. These three topics actively influence the decision-making process associated with Pokémon battling. As noted, a central factor involved in the decision making process as it relates to game theory is the role of information, specifically how players incorporate information revealed each turn into their strategies. As information is revealed each turn, including the four moves an opposing Pokémon has, its ability, held item, along with what other Pokémon are on the opposing team, it is vital for players to determine if the information they just received is relevant. Furthermore, players need to decide if the information provides any insight into their opponent’s strategy. Overall, this speaks to Pokémon not being a perfect information game. As such, it is not possible to apply Zermelo’s theorem, though its negation provides insight as to the possible existence of a winning strategy (Schwalbe et al. 2001). An especially interesting addition to the analysis of incomplete information in Pokémon battling is the topic and implications of asymmetrical information. In this regard, the concepts of sunk costs and signaling may enter into the equation. Especially for the Random battle format, each player is given minimal information at the onset of the game. And while each turn, players both gain information, they may receive new information at different rates. The implications of this point may provide insight into specific strategies, and is a point of future analysis. This being said, concepts of game theory are not the only relevant ideas for analyzing Pokémon battling. In this vein, exploring whether a player will switch Pokémon will necessarily invoke ideas from game theory and behavioral economics. One specific concept engrained in behavioral economics that relates to Pokémon battling is the idea of “keeping doors open”. In Chapter 6 of Ariel’s work Predictably Irrational, results indicates that players prefer to keep options available even if doing so incurs costs and/or reduces their payoff. In the context of Pokémon battling, players may decide to preemptively switch Pokémon in the hopes of having that Pokémon later in the battle. However, whether this adversely influences the player is yet another subject of inquiry. A an ending point of interest, taking into account opposing players’ strategies as deduced from revealed information rubs against issues related level-K thinking. To elaborate further, knowing that a player is likely to repeat the same decision made the previous turn, players may be able optimize their decision by presuposing what decision their opponent is going to make. However, if the opposing player decides to incorporate that very assumption into their own decision, they may arrive at a vastly different outcome than would be expected. Furthermore this outcome may even be suboptimal for both players. That being said, the inclusion of level-k thinking is closely aligned to recent behavioral game theory literature. A central finding of this literature has emphasized the role of iterated reasoning, which essentializes player adaptation to other players’ decision making (Wunder et al. 2011). Notably this will be a point to consider and incorporate into the analysis of Pokémon battling in a game theoretic framework. 1.2 References Ariely, D. (2009). Predictably irrational: The hidden forces that shape our decisions. New York, NY: Harper. Chapter 8: Keeping Doors Open (pp. 139-154). Schwalbe, U., &amp; Walker, P. (2001). Zermelo and the Early History of Game Theory. Games and Economic Behavior, 34(1), 123-137. doi:10.1006/game.2000.0794 Smogon University (n.d.). Retrieved October 31, 2016, from http://www.smogon.com/ Pokémon Showdown! battle simulator (n.d.). Retrieved October 31, 2016, from http://pokemonshowdown.com/ Pokémon Showdown Github Master Repository (2016). Zarel/Pokemon-Showdown. Retrieved October 31, 2016, from https://github.com/Zarel/Pokemon-Showdown/tree/master/data Wunder, M., Kaisers, M., Yaros, J., Littman, M., (May, 2011) Using Iterated Reasoning to Predict Opponent Strategies. Proc. of 10th Int. Conf. on Autonomous Agents and Multiagent Systems (AAMAS 2011), Tumer, Yolum, Sonenberg and Stone (eds.), 593-600. Ho, H., Ramesh, V. (2016) Percymon: A Pokemon Showdown Artifical Intelligence. Retrieved October 31, 2016, from: http://robots.stanford.edu/cs221/2016/restricted/projects/vramesh2/final.pdf Sanchez-Ante, Gildardo (Dec., 2013) Sistemas Inteligentes: Reportes Finales Ago-Dic 2013. Retrieved October 31, 2016, from: https://www.researchgate.net/profile/Gildardo_Sanchez-Ante/publication/259343975_Sistemas_Inteligentes_Reportes_Finales_Ago-Dic_2013/links/0c96052b1d0b582e95000000.pdf#page=140 Pokémon Company International (Nov. 21, 2014) Pokémon Omega Ruby &amp; Pokémon Alpha Sapphire: The Official Hoenn Region Strategy Guide. Nash, J. F., Jr. (1950, January 15). Equilibrium Points in n-Person Games. Proceedings of the National Academy of Sciences of the United States of America, 36(1), 48-49. Retrieved November 29, 2016, from http://www.sscnet.ucla.edu/polisci/faculty/chwe/austen/nash1950.pdf Nash, J. F., Jr. (1951, September). Non-Cooperative Games. The Annals of Mathematics, Second Series, 54(2), 286-295. Retrieved November 29, 2016, from http://lcm.csa.iisc.ernet.in/gametheory/Classics/NCG.pdf 1.3 Methodology The data used is a compilation of battle logs from the Pokémon Showdown servers. Each battle log is stored as a separate .json file. The data spans across the year 2015, composed of four different months of data. The four months are March, June, September, and December. There are no lapses in data, i.e. each day of each month has numerous battle logs to account for. No dramatic overhaul was done to the Pokémon battling format at this time, though some minor adjustments were made. Furthermore only ranked games are included in the dataset, indicating that each player stands to gain or lose from the battle. Specific usage statistics are found in a subsidiary website, found at http://sweepercalc.com/stats/. The usage statistics track the frequency of use for specific Pokémon, items, abilities, and a host of other relevant variables for Pokémon battling. A number of links redirect users to the host site of this game: Smogon University. The host site can be found at http://www.smogon.com/. This website offers a wide variety of resources, similar to those found at the Pokémon Showdown website. Most importantly the Smogon forums are a prominent site for discussion of Pokémon battling strategies. 1.3.1 Pokémon Battling Basics The Pokémon battle starts with Pokémon being sent out. For the purposes of the data used, one Pokémon is sent out for each opponent, totalling two Pokémon being out at any given time. Following this, each Pokémon has 4 moves to choose from, along with the option to switch to a different Pokémon (when applicable). After both players make a decision, the moves are weighted for priority and speed to determine the order of play. If both players decide not to switch one Pokémon will attack the other, after which the next Pokémon will do the same if it has not fainted. After each move has been executed the turn ends and the process is repeated. When one of the Pokémon faints, the player whose Pokémon fainted will be prompted to select another Pokémon from the bench. The first player to lose all of their Pokémon loses the battle. 1.3.1.1 Battle Formats The data used for this study include two different Pokémon battling formats. The two formats are known as Over Used and Random Battles, abbreviated as OU and Randbats respectively. Both formats have teams of six Pokémon and only allow one Pokémon to be out at any given time. While both battle formats are subsets of what are known as single battles, each has their own unique spin on the Pokémon battling format. Random Battles are the most frequently played format. Neither player gets to decide on their initial Pokémon nor do they have any input on the composition of the team. The format uses an algorithm to determine team compositions. However it is important to note that there are restrictions to the Randbats format that center around team composition and move composition for specific Pokémon. The Over Used battle format includes team composition. By including team composition, players are able to decide what Pokémon to include on their team, the moves of each Pokémon, and other factors such as held items and abilities. Further restrictions to the OU format include banning specific Pokémon. The restricted Pokémon are included in the “Uber” tier along with the Pokémon Mega-Rayquaza. Additionally certain “hidden” abilities are locked for Pokémon. 1.3.2 Pokémon Attributes Generally, there are a number of factors that are specific to each Pokémon. Some of these factors are considered static, meaning that they do not change over the course of the battle. These types of factors are noted as “Fixed” Attributes. However there are some factors that are generally regarded as Fixed Attributes but are affected by certain moves, at least when the Pokémon is sent out. These types of factors are considered “Mixed Attributes”. Additionally there are attributes that are inherently influenced throughout the course of the battle. These are noted as “Variable Attributes”. The terminology is largely taken from the Ho et al. paper for ease of translation. 1.3.2.1 Pokémon Fixed Attributes Fixed attributes include the type(s) of the Pokémon, the four moves the Pokémon has learned, the one item the Pokémon holds, the Pokémon’s one selected ability, the level of the Pokémon, and the Pokémon’s baseline stats. The latter factor is divided into six categories. These categories include (baseline) Health, Attack, Special Attack, Defense, Special Defense, and Speed. There is further nuance with the inclusion of Pokémon natures and Individual Values, or IVs. These factors influence the base stats of each Pokémon. However due to the sheer number of trivial combinations of IV spreads and nature choices, these two factors will not be a pivotal aspect of framework used. 1.3.2.2 Pokémon Types The type(s) of each Pokémon influence not only the potential weaknesses of each Pokémon, but also influence the amount of damage certain type-specific moves are able to do. Each Pokémon has at least one and at most two types. If a Pokémon uses a damaging move whose type corresponds to type of the Pokémon that used it, that Pokémon gets a same type attack bonus, abbreviated as a “stab” bonus. This causes the move to do 50% more damage, potentially 100% if the Pokémon also has the ability Adaptability. 1.3.2.3 Pokémon Mixed Attributes 1.3.2.4 Pokémon Variable Attributes Variable Attributes include the current health of the Pokémon, the status of the Pokémon, the volatile status of the Pokémon, boost data of the Pokémon, and whether the Pokémon in question is currently active. 1.4 End thesis Chapter 1 "],
["2-markdown-template.html", "Chapter 2 MARKDOWN TEMPLATE", " Chapter 2 MARKDOWN TEMPLATE "],
["3-rmd-basics.html", "Chapter 3 R Markdown Basics 3.1 Lists 3.2 Line breaks 3.3 R chunks 3.4 Inline code 3.5 Including plots 3.6 Loading and exploring data 3.7 Additional resources", " Chapter 3 R Markdown Basics Here is a brief introduction into using R Markdown. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. R Markdown provides the flexibility of Markdown with the implementation of R input and output. For more details on using R Markdown see http://rmarkdown.rstudio.com. Be careful with your spacing in Markdown documents. While whitespace largely is ignored, it does at times give Markdown signals as to how to proceed. As a habit, try to keep everything left aligned whenever possible, especially as you type a new paragraph. In other words, there is no need to indent basic text in the Rmd document (in fact, it might cause your text to do funny things if you do). 3.1 Lists It’s easy to create a list. It can be unordered like Item 1 Item 2 or it can be ordered like Item 1 Item 2 Notice that I intentionally mislabeled Item 2 as number 4. Markdown automatically figures this out! You can put any numbers in the list and it will create the list. Check it out below. To create a sublist, just indent the values a bit (at least four spaces or a tab). (Here’s one case where indentation is key!) Item 1 Item 2 Item 3 Item 3a Item 3b 3.2 Line breaks Make sure to add white space between lines if you’d like to start a new paragraph. Look at what happens below in the outputted document if you don’t: Here is the first sentence. Here is another sentence. Here is the last sentence to end the paragraph. This should be a new paragraph. Now for the correct way: Here is the first sentence. Here is another sentence. Here is the last sentence to end the paragraph. This should be a new paragraph. 3.3 R chunks When you click the Knit button above a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this (cars is a built-in R dataset): summary(cars) speed dist Min. : 4.0 Min. : 2.00 1st Qu.:12.0 1st Qu.: 26.00 Median :15.0 Median : 36.00 Mean :15.4 Mean : 42.98 3rd Qu.:19.0 3rd Qu.: 56.00 Max. :25.0 Max. :120.00 3.4 Inline code If you’d like to put the results of your analysis directly into your discussion, add inline code like this: The cos of \\(2 \\pi\\) is 1. Another example would be the direct calculation of the standard deviation: The standard deviation of speed in cars is 5.2876444. One last neat feature is the use of the ifelse conditional statement which can be used to output text depending on the result of an R calculation: The standard deviation is less than 6. Note the use of &gt; here, which signifies a quotation environment that will be indented. As you see with $2 \\pi$ above, mathematics can be added by surrounding the mathematical text with dollar signs. More examples of this are in Mathematics and Science if you uncomment the code in Math. 3.5 Including plots You can also embed plots. For example, here is a way to use the base R graphics package to produce a plot using the built-in pressure dataset: Note that the echo=FALSE parameter was added to the code chunk to prevent printing of the R code that generated the plot. There are plenty of other ways to add chunk options. More information is available at http://yihui.name/knitr/options/. Another useful chunk option is the setting of cache=TRUE as you see here. If document rendering becomes time consuming due to long computations or plots that are expensive to generate you can use knitr caching to improve performance. Later in this file, you’ll see a way to reference plots created in R or external figures. 3.6 Loading and exploring data Included in this template is a file called flights.csv. This file includes a subset of the larger dataset of information about all flights that departed from Seattle and Portland in 2014. More information about this dataset and its R package is available at http://github.com/ismayc/pnwflights14. This subset includes only Portland flights and only rows that were complete with no missing values. Merges were also done with the airports and airlines data sets in the pnwflights14 package to get more descriptive airport and airline names. We can load in this data set using the following command: flights &lt;- read.csv(&quot;data/flights.csv&quot;) The data is now stored in the data frame called flights in R. To get a better feel for the variables included in this dataset we can use a variety of functions. Here we can see the dimensions (rows by columns) and also the names of the columns. dim(flights) [1] 52808 16 names(flights) [1] &quot;month&quot; &quot;day&quot; &quot;dep_time&quot; &quot;dep_delay&quot; [5] &quot;arr_time&quot; &quot;arr_delay&quot; &quot;carrier&quot; &quot;tailnum&quot; [9] &quot;flight&quot; &quot;dest&quot; &quot;air_time&quot; &quot;distance&quot; [13] &quot;hour&quot; &quot;minute&quot; &quot;carrier_name&quot; &quot;dest_name&quot; Another good idea is to take a look at the dataset in table form. With this dataset having more than 50,000 rows, we won’t explicitly show the results of the command here. I recommend you enter the command into the Console after you have run the R chunks above to load the data into R. View(flights) While not required, it is highly recommended you use the dplyr package to manipulate and summarize your data set as needed. It uses a syntax that is easy to understand using chaining operations. Below I’ve created a few examples of using dplyr to get information about the Portland flights in 2014. You will also see the use of the ggplot2 package, which produces beautiful, high-quality academic visuals. We begin by checking to ensure that needed packages are installed and then we load them into our current working environment: # List of packages required for this analysis pkg &lt;- c(&quot;dplyr&quot;, &quot;ggplot2&quot;, &quot;knitr&quot;, &quot;bookdown&quot;, &quot;devtools&quot;) # Check if packages are not installed and assign the # names of the packages not installed to the variable new.pkg new.pkg &lt;- pkg[!(pkg %in% installed.packages())] # If there are any packages in the list that aren&#39;t installed, # install them if (length(new.pkg)) install.packages(new.pkg, repos = &quot;http://cran.rstudio.com&quot;) # Load packages (thesisdown will load all of the packages as well) library(thesisdown) The example we show here does the following: Selects only the carrier_name and arr_delay from the flights dataset and then assigns this subset to a new variable called flights2. Using flights2, we determine the largest arrival delay for each of the carriers. flights2 &lt;- flights %&gt;% select(carrier_name, arr_delay) max_delays &lt;- flights2 %&gt;% group_by(carrier_name) %&gt;% summarize(max_arr_delay = max(arr_delay, na.rm = TRUE)) A useful function in the knitr package for making nice tables in R Markdown is called kable. It is much easier to use than manually entering values into a table by copying and pasting values into Excel or LaTeX. This again goes to show how nice reproducible documents can be! (Note the use of results=&quot;asis&quot;, which will produce the table instead of the code to create the table.) The caption.short argument is used to include a shorter title to appear in the List of Tables. kable(max_delays, col.names = c(&quot;Airline&quot;, &quot;Max Arrival Delay&quot;), caption = &quot;Maximum Delays by Airline&quot;, caption.short = &quot;Max Delays by Airline&quot;, longtable = TRUE, booktabs = TRUE) Table 3.1: Maximum Delays by Airline Airline Max Arrival Delay Alaska Airlines Inc. 338 American Airlines Inc. 1539 Delta Air Lines Inc. 651 Frontier Airlines Inc. 575 Hawaiian Airlines Inc. 407 JetBlue Airways 273 SkyWest Airlines Inc. 421 Southwest Airlines Co. 694 United Air Lines Inc. 472 US Airways Inc. 347 Virgin America 366 The last two options make the table a little easier-to-read. We can further look into the properties of the largest value here for American Airlines Inc. To do so, we can isolate the row corresponding to the arrival delay of 1539 minutes for American in our original flights dataset. flights %&gt;% filter(arr_delay == 1539, carrier_name == &quot;American Airlines Inc.&quot;) %&gt;% select(-c(month, day, carrier, dest_name, hour, minute, carrier_name, arr_delay)) dep_time dep_delay arr_time tailnum flight dest air_time distance 1 1403 1553 1934 N595AA 1568 DFW 182 1616 We see that the flight occurred on March 3rd and departed a little after 2 PM on its way to Dallas/Fort Worth. Lastly, we show how we can visualize the arrival delay of all departing flights from Portland on March 3rd against time of departure. flights %&gt;% filter(month == 3, day == 3) %&gt;% ggplot(aes(x = dep_time, y = arr_delay)) + geom_point() 3.7 Additional resources Markdown Cheatsheet - https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet R Markdown Reference Guide - https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf Introduction to dplyr - https://cran.rstudio.com/web/packages/dplyr/vignettes/introduction.html ggplot2 Documentation - http://docs.ggplot2.org/current/ "],
["4-math-sci.html", "Chapter 4 Mathematics and Science 4.1 Math 4.2 Chemistry 101: Symbols 4.3 Physics 4.4 Biology", " Chapter 4 Mathematics and Science 4.1 Math is the best way to typeset mathematics. Donald Knuth designed when he got frustrated at how long it was taking the typesetters to finish his book, which contained a lot of mathematics. One nice feature of R Markdown is its ability to read LaTeX code directly. If you are doing a thesis that will involve lots of math, you will want to read the following section which has been commented out. If you’re not going to use math, skip over or delete this next commented section. 0$$ Lapidus and Pindar, Numerical Solution of Partial Differential Equations in Science and Engineering. Page 54 $$ \\int_t\\left\\{\\sum_{j=1}^3 T_j \\left({d\\phi_j\\over dt}+k\\phi_j\\right)-kT_e\\right\\}w_i(t)\\ dt=0, \\qquad\\quad i=1,2,3. $$ L\\&P Galerkin method weighting functions. Page 55 $$ \\sum_{j=1}^3 T_j\\int_0^1\\left\\{{d\\phi_j\\over dt} + k\\phi_j\\right\\} \\phi_i\\ dt = \\int_{0}^1k\\,T_e\\phi_idt, \\qquad i=1,2,3 $$ Another L\\&P (p145) $$ \\int_{-1}^1\\!\\int_{-1}^1\\!\\int_{-1}^1 f\\big(\\xi,\\eta,\\zeta\\big) = \\sum_{k=1}^n\\sum_{j=1}^n\\sum_{i=1}^n w_i w_j w_k f\\big( \\xi,\\eta,\\zeta\\big). $$ Another L\\&P (p126) $$ \\int_{A_e} (\\,\\cdot\\,) dx dy = \\int_{-1}^1\\!\\int_{-1}^1 (\\,\\cdot\\,) \\det[J] d\\xi d\\eta. $$ --> 4.2 Chemistry 101: Symbols Chemical formulas will look best if they are not italicized. Get around math mode’s automatic italicizing in LaTeX by using the argument $\\mathrm{formula here}$, with your formula inside the curly brackets. (Notice the use of the backticks here which enclose text that acts as code.) So, \\(\\mathrm{Fe_2^{2+}Cr_2O_4}\\) is written $\\mathrm{Fe_2^{2+}Cr_2O_4}$. Exponent or Superscript: \\(\\mathrm{O^-}\\) Subscript: \\(\\mathrm{CH_4}\\) To stack numbers or letters as in \\(\\mathrm{Fe_2^{2+}}\\), the subscript is defined first, and then the superscript is defined. Bullet: CuCl \\(\\bullet\\) \\(\\mathrm{7H_{2}O}\\) Delta: \\(\\Delta\\) Reaction Arrows: \\(\\longrightarrow\\) or \\(\\xrightarrow{solution}\\) Resonance Arrows: \\(\\leftrightarrow\\) Reversible Reaction Arrows: \\(\\rightleftharpoons\\) 4.2.1 Typesetting reactions You may wish to put your reaction in an equation environment, which means that LaTeX will place the reaction where it fits and will number the equations for you. \\begin{equation} \\mathrm{C_6H_{12}O_6 + 6O_2} \\longrightarrow \\mathrm{6CO_2 + 6H_2O} \\label{eq:reaction} \\end{equation} We can reference this combustion of glucose reaction via Equation \\ref{eq:reaction}. 4.2.2 Other examples of reactions \\(\\mathrm{NH_4Cl_{(s)}}\\) \\(\\rightleftharpoons\\) \\(\\mathrm{NH_{3(g)}+HCl_{(g)}}\\) \\(\\mathrm{MeCH_2Br + Mg}\\) \\(\\xrightarrow[below]{above}\\) \\(\\mathrm{MeCH_2\\bullet Mg \\bullet Br}\\) 4.3 Physics Many of the symbols you will need can be found on the math page http://web.reed.edu/cis/help/latex/math.html and the Comprehensive LaTeX Symbol Guide (http://mirror.utexas.edu/ctan/info/symbols/comprehensive/symbols-letter.pdf). 4.4 Biology You will probably find the resources at http://www.lecb.ncifcrf.gov/~toms/latex.html helpful, particularly the links to bsts for various journals. You may also be interested in TeXShade for nucleotide typesetting (http://homepages.uni-tuebingen.de/beitz/txe.html). Be sure to read the proceeding chapter on graphics and tables. "],
["5-ref-labels.html", "Chapter 5 Tables, Graphics, References, and Labels 5.1 Tables 5.2 Figures 5.3 Footnotes and Endnotes 5.4 Bibliographies 5.5 Anything else?", " Chapter 5 Tables, Graphics, References, and Labels 5.1 Tables In addition to the tables that can be automatically generated from a data frame in R that you saw in R Markdown Basics using the kable function, you can also create tables using pandoc. (More information is available at http://pandoc.org/README.html#tables.) This might be useful if you don’t have values specifically stored in R, but you’d like to display them in table form. Below is an example. Pay careful attention to the alignment in the table and hyphens to create the rows and columns. Table 5.1: Correlation of Inheritance Factors for Parents and Child Factors Correlation between Parents &amp; Child Inherited Education -0.49 Yes Socio-Economic Status 0.28 Slight Income 0.08 No Family Size 0.18 Slight Occupational Prestige 0.21 Slight We can also create a link to the table by doing the following: Table 5.1. If you go back to Loading and exploring data and look at the kable table, we can create a reference to this max delays table too: Table 3.1. The addition of the \\label{tab:inher} option to the end of the table caption allows us to then a make a reference to Table \\@ref(tab:label). Note that this reference could appear anywhere throughout the document after the table has appeared. 5.2 Figures If your thesis has a lot of figures, R Markdown might behave better for you than that other word processor. One perk is that it will automatically number the figures accordingly in each chapter. You’ll also be able to create a label for each figure, add a caption, and then reference the figure in a way similar to what we saw with tables earlier. If you label your figures, you can move the figures around and R Markdown will automatically adjust the numbering for you. No need for you to remember! So that you don’t have to get too far into LaTeX to do this, a couple R functions have been created for you to assist. You’ll see their use below. If you need a graphic or tabular material to be part of the text, you can just put it inline. If you need it to appear in the list of figures or tables, it should be placed in a code chunk. --> In the R chunk below, we will load in a picture stored as reed.jpg in our main directory. We then give it the caption of “Reed logo”, the label of “reedlogo”, and specify that this is a figure. Make note of the different R chunk options that are given in the R Markdown file (not shown in the knitted document). include_graphics(path = &quot;figure/reed.jpg&quot;) Figure 5.1: Reed logo Here is a reference to the Reed logo: Figure 5.1. Note the use of the fig: code here. By naming the R chunk that contains the figure, we can then reference that figure later as done in the first sentence here. We can also specify the caption for the figure via the R chunk option fig.cap. Below we will investigate how to save the output of an R plot and label it in a way similar to that done above. Recall the flights dataset from Chapter 3. (Note that we’ve shown a different way to reference a section or chapter here.) We will next explore a bar graph with the mean flight departure delays by airline from Portland for 2014. Note also the use of the scale parameter which is discussed on the next page. flights %&gt;% group_by(carrier) %&gt;% summarize(mean_dep_delay = mean(dep_delay)) %&gt;% ggplot(aes(x = carrier, y = mean_dep_delay)) + geom_bar(position = &quot;identity&quot;, stat = &quot;identity&quot;, fill = &quot;red&quot;) Figure 5.2: Mean Delays by Airline Here is a reference to this image: Figure 5.2. A table linking these carrier codes to airline names is available at https://github.com/ismayc/pnwflights14/blob/master/data/airlines.csv. Next, we will explore the use of the out.extra chunk option, which can be used to shrink or expand an image loaded from a file by specifying &quot;scale= &quot;. Here we use the mathematical graph stored in the “subdivision.pdf” file. Figure 5.3: Subdiv. graph Here is a reference to this image: Figure 5.3. Note that echo=FALSE is specified so that the R code is hidden in the document. More Figure Stuff Lastly, we will explore how to rotate and enlarge figures using the out.extra chunk option. (Currently this only works in the PDF version of the book.) Figure 5.4: A Larger Figure, Flipped Upside Down As another example, here is a reference: Figure 5.4. 5.3 Footnotes and Endnotes You might want to footnote something.1 The footnote will be in a smaller font and placed appropriately. Endnotes work in much the same way. More information can be found about both on the CUS site or feel free to reach out to data@reed.edu. 5.4 Bibliographies Of course you will need to cite things, and you will probably accumulate an armful of sources. There are a variety of tools available for creating a bibliography database (stored with the .bib extension). In addition to BibTeX suggested below, you may want to consider using the free and easy-to-use tool called Zotero. The Reed librarians have created Zotero documentation at http://libguides.reed.edu/citation/zotero. In addition, a tutorial is available from Middlebury College at http://sites.middlebury.edu/zoteromiddlebury/. R Markdown uses pandoc (http://pandoc.org/) to build its bibliographies. One nice caveat of this is that you won’t have to do a second compile to load in references as standard LaTeX requires. To cite references in your thesis (after creating your bibliography database), place the reference name inside square brackets and precede it by the “at” symbol. For example, here’s a reference to a book about worrying: (Molina &amp; Borkovec, 1994). This Molina1994 entry appears in a file called thesis.bib in the bib folder. This bibliography database file was created by a program called BibTeX. You can call this file something else if you like (look at the YAML header in the main .Rmd file) and, by default, is to placed in the bib folder. For more information about BibTeX and bibliographies, see our CUS site (http://web.reed.edu/cis/help/latex/index.html)2. There are three pages on this topic: bibtex (which talks about using BibTeX, at http://web.reed.edu/cis/help/latex/bibtex.html), bibtexstyles (about how to find and use the bibliography style that best suits your needs, at http://web.reed.edu/cis/help/latex/bibtexstyles.html) and bibman (which covers how to make and maintain a bibliography by hand, without BibTeX, at http://web.reed.edu/cis/help/latex/bibman.html). The last page will not be useful unless you have only a few sources. If you look at the YAML header at the top of the main .Rmd file you can see that we can specify the style of the bibliography by referencing the appropriate csl file. You can download a variety of different style files at https://www.zotero.org/styles. Make sure to download the file into the csl folder. Tips for Bibliographies Like with thesis formatting, the sooner you start compiling your bibliography for something as large as thesis, the better. Typing in source after source is mind-numbing enough; do you really want to do it for hours on end in late April? Think of it as procrastination. The cite key (a citation’s label) needs to be unique from the other entries. When you have more than one author or editor, you need to separate each author’s name by the word “and” e.g. Author = {Noble, Sam and Youngberg, Jessica},. Bibliographies made using BibTeX (whether manually or using a manager) accept LaTeX markup, so you can italicize and add symbols as necessary. To force capitalization in an article title or where all lowercase is generally used, bracket the capital letter in curly braces. You can add a Reed Thesis citation3 option. The best way to do this is to use the phdthesis type of citation, and use the optional “type” field to enter “Reed thesis” or “Undergraduate thesis.” 5.5 Anything else? If you’d like to see examples of other things in this template, please contact the Data @ Reed team (email data@reed.edu) with your suggestions. We love to see people using R Markdown for their theses, and are happy to help. footnote text↩ Reed College (2007)↩ Noble (2002)↩ "],
["conclusion.html", "Conclusion", " Conclusion If we don’t want Conclusion to have a chapter number next to it, we can add the {.unnumbered} attribute. This has an unintended consequence of the sections being labeled as 3.6 for example though instead of 4.1. The commands immediately following the Conclusion declaration get things back on track. More info And here’s some other random info: the first paragraph after a chapter title or section head shouldn’t be indented, because indents are to tell the reader that you’re starting a new paragraph. Since that’s obvious after a chapter or section title, proper typesetting doesn’t add an indent there. "],
["6-the-first-appendix.html", "Chapter 6 The First Appendix", " Chapter 6 The First Appendix This first appendix includes all of the R chunks of code that were hidden throughout the document (using the include = FALSE chunk tag) to help with readibility and/or setup. In the main Rmd file # This chunk ensures that the thesisdown package is # installed and loaded. This thesisdown package includes # the template files for the thesis. if(!require(devtools)) install.packages(&quot;devtools&quot;, repos = &quot;http://cran.rstudio.com&quot;) if(!require(thesisdown)) devtools::install_github(&quot;ismayc/thesisdown&quot;) library(thesisdown) In Chapter 5: # This chunk ensures that the thesisdown package is # installed and loaded. This thesisdown package includes # the template files for the thesis and also two functions # used for labeling and referencing if(!require(devtools)) install.packages(&quot;devtools&quot;, repos = &quot;http://cran.rstudio.com&quot;) if(!require(dplyr)) install.packages(&quot;dplyr&quot;, repos = &quot;http://cran.rstudio.com&quot;) if(!require(ggplot2)) install.packages(&quot;ggplot2&quot;, repos = &quot;http://cran.rstudio.com&quot;) if(!require(ggplot2)) install.packages(&quot;bookdown&quot;, repos = &quot;http://cran.rstudio.com&quot;) if(!require(thesisdown)){ library(devtools) devtools::install_github(&quot;ismayc/thesisdown&quot;) } library(thesisdown) flights &lt;- read.csv(&quot;data/flights.csv&quot;) "],
["7-the-second-appendix-for-fun.html", "Chapter 7 The Second Appendix, for Fun", " Chapter 7 The Second Appendix, for Fun "],
["8-references-1.html", "Chapter 8 References", " Chapter 8 References "]
]
